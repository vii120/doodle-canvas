var alertIcon=document.querySelector(".alertIcon"),alertText=document.querySelector(".alertText");if(screen.width<500){alertText.classList.add("show");let e=screen.width/550;document.querySelector("meta[name=viewport]").setAttribute("content",`width=device-width, initial-scale=${e}, user-scalable=0`)}alertIcon.onclick=function(e){e.stopPropagation(),alertText.classList.toggle("show")},document.onclick=function(){alertText.classList.remove("show")};var pensBox=document.querySelector(".pens"),penIds=pensBox.querySelectorAll("i");let colors=["#9F161D","#ED6517","#ffd24c","#3B8F2F","#10B5AE","#19199F","#96189D","#F282AA","#A37C63","#783B10","#000000","#929290","#ffffff"];for(let e=0;e<penIds.length;e++)penIds[e].color=colors[e],penIds[e].style.color=colors[e];let blackPen=document.querySelector("#pen11");blackPen.checked=!0;let penColor=colors[colors.length-3];penIds.forEach(function(e){e.onclick=function(){penColor=e.color}});var sizeBox=document.querySelector(".size"),sizeItem=sizeBox.querySelectorAll("span");let sizeArray=[5,10,15];for(let e=0;e<sizeItem.length;e++)sizeItem[e].size=sizeArray[e];let sizeS=document.querySelector("#sizeS");sizeS.checked=!0;let penSize=sizeArray[0];sizeItem.forEach(function(e){e.onclick=function(){penSize=e.size}});var canvas=document.querySelector("#doodle"),context=canvas.getContext("2d");canvas.width=canvas.clientWidth,canvas.height=canvas.clientHeight,context.lineJoin="round",context.lineCap="round";let penStatus={x:0,y:0,drawing:!1};function startPen(e){penStatus.drawing=!0;let t=e.offsetX||e.touches[0].pageX-this.getBoundingClientRect().x-this.clientLeft,n=e.offsetY||e.touches[0].pageY-this.getBoundingClientRect().y-this.clientTop;[penStatus.x,penStatus.y]=[t,n],e.preventDefault(),console.log(e.touches[0])}function movePen(e){if(penStatus.drawing){let t=e.offsetX||e.touches[0].pageX-this.getBoundingClientRect().x-this.clientLeft,n=e.offsetY||e.touches[0].pageY-this.getBoundingClientRect().y-this.clientTop;context.strokeStyle=penColor,context.lineWidth=penSize,context.beginPath(),context.moveTo(penStatus.x,penStatus.y),context.lineTo(t,n),context.stroke(),[penStatus.x,penStatus.y]=[t,n],e.preventDefault()}}function stopPen(){penStatus.drawing=!1}canvas.addEventListener("mousedown",startPen),canvas.addEventListener("mousemove",movePen),canvas.addEventListener("mouseup",stopPen),canvas.addEventListener("mouseout",stopPen),canvas.addEventListener("touchstart",startPen),canvas.addEventListener("touchmove",movePen),canvas.addEventListener("touchend",stopPen);var erase=document.querySelector(".erase"),drawBox=document.querySelector(".drawBox");erase.onclick=function(){let e=document.createElement("img");e.classList.add("delImg"),e.src=canvas.toDataURL("image/png");let t=document.createElement("div");t.classList.add("tempCanvas"),drawBox.appendChild(t),drawBox.appendChild(e),setTimeout(function(){context.clearRect(0,0,canvas.width,canvas.height),drawBox.removeChild(t),drawBox.removeChild(e)},1e3)};var save=document.querySelector(".save");save.onclick=function(){let e=document.createElement("a"),t=`doodle${Math.floor(Date.now()/1e3)}.png`;e.href=canvas.toDataURL("image/png"),e.setAttribute("download",t),document.body.appendChild(e),e.click(),document.body.removeChild(e)};